<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Геймификация участников</title>
    <link rel="stylesheet" href="style.css?v=2.1">
    <link rel="stylesheet" href="transfer.css?v=2.0">
    <link rel="stylesheet" href="admin-styles.css?v=1.0">
    <style>
        /* Принудительные стили для админ-панели прямо в HTML */
        #admin-section {
            background: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(10px) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 20px !important;
            padding: 20px !important;
            margin: 20px auto !important;
            max-width: 420px !important;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1) !important;
        }
        
        #admin-section h2 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            background-clip: text !important;
            text-align: center !important;
            font-weight: bold !important;
            font-size: 2rem !important;
            margin: 0 0 20px 0 !important;
        }
        
        #admin-section input {
            background: rgba(255, 255, 255, 0.9) !important;
            border: 2px solid rgba(102, 126, 234, 0.2) !important;
            border-radius: 12px !important;
            padding: 15px 12px !important;
            margin: 8px 0 !important;
            font-size: 1.1rem !important;
            color: #333 !important;
            width: 100% !important;
            box-sizing: border-box !important;
        }
        
        #admin-section button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            color: #fff !important;
            border: none !important;
            padding: 15px 0 !important;
            border-radius: 12px !important;
            cursor: pointer !important;
            font-size: 1.1rem !important;
            margin: 8px 0 !important;
            width: 100% !important;
            font-weight: 600 !important;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3) !important;
        }
        
        .admin-row-btns {
            display: flex !important;
            gap: 10px !important;
            margin: 8px 0 !important;
        }
        
        .admin-row-btns button {
            flex: 1 !important;
            min-width: 0 !important;
        }
        
        #admin-message {
            background: linear-gradient(135deg, #00d4aa 0%, #00b894 100%) !important;
            color: white !important;
            margin: 15px 0 !important;
            padding: 12px !important;
            border-radius: 12px !important;
            font-weight: 600 !important;
            text-align: center !important;
        }
        
        /* Убираем все желтые цвета */
        #admin-section * {
            background-color: transparent !important;
        }
        
        #admin-section input {
            background: rgba(255, 255, 255, 0.9) !important;
        }
        
        #admin-section button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
        }
        
        /* Исправляем цвет текста в профиле */
        #profile-header {
            color: #333 !important;
        }
        
        #profile-header span {
            color: #333 !important;
        }
        
        /* Убеждаемся, что все тексты видны */
        .card, #profile-card {
            color: #333 !important;
        }
        
        .card *, #profile-card * {
            color: inherit !important;
        }
    </style>
    <script defer src="main.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
</head>
<body>
    <div id="logo-container">
        <img src="logo.jpg" alt="Логотип" id="main-logo">
    </div>
    <div id="login-section">
        <h2>Вход</h2>
        <form id="login-form">
            <input type="email" id="login-email" placeholder="Email" required>
            <input type="password" id="login-password" placeholder="Пароль" required>
            <button type="submit">Войти</button>
        </form>
        <p>Нет аккаунта? <a href="#" id="show-register">Зарегистрироваться</a></p>
    </div>
    <div id="register-section" style="display:none;">
        <h2>Регистрация</h2>
        <form id="register-form">
            <input type="text" id="register-username" placeholder="Имя пользователя" required>
            <input type="email" id="register-email" placeholder="Email" required>
            <input type="password" id="register-password" placeholder="Пароль" required>
            <input type="password" id="register-password-confirm" placeholder="Подтвердите пароль" required>
            <button type="submit">Зарегистрироваться</button>
        </form>
        <p>Уже есть аккаунт? <a href="#" id="show-login">Войти</a></p>
    </div>
    <div id="profile-card" class="card" style="display:none; margin: 30px auto 10px auto; max-width: 420px;">
        <h2 id="profile-header"></h2>
        <p id="profile-info"></p>
        <button id="show-transfer-form" class="main-btn" style="margin:10px auto 0 auto; width:80%; display:block;">Передать монеты</button>
        <div id="transfer-form-container" style="display:none;"></div>
        <div id="top5-container"></div>
        <div id="profile-buttons" style="display: flex; gap: 12px; margin-top: 12px;">
            <button id="logout-btn">Выйти</button>
            <button id="shop-btn" class="btn">Магазин</button>
        </div>
        <button id="toggle-rating-btn" class="main-btn" style="margin: 18px auto 0 auto; width: 80%; display: block;">Показать рейтинг</button>
    </div>
    <div id="rating-section" style="display:none;">
        <h2>Рейтинг участников</h2>
        <table id="rating-table">
            <thead>
                <tr><th>Место</th><th>Имя</th><th>Уровень</th><th>Баллы</th><th>Монеты</th><th>Победы</th><th>Игры</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div id="admin-section" class="card" style="display:none;">
        <h2>Админ-панель</h2>
        <input type="text" id="admin-user" placeholder="Имя участника">
        <input type="number" id="admin-points" placeholder="Баллы для начисления">
        <div class="admin-row-btns" style="display:flex; gap:10px; margin-top:8px;">
            <button id="admin-add-points" style="flex:1; min-width:0;">Начислить баллы</button>
            <button id="admin-add-coins" style="flex:1; min-width:0;">Начислить монеты</button>
        </div>
        <button id="admin-reset-user">Обнулить баллы и монеты у участника</button>
        <button id="admin-reset-all">Обнулить баллы и монеты у всех</button>
        <div class="admin-row-btns" style="display:flex; gap:10px; margin-top:8px;">
            <button id="admin-reset-all-wins" style="flex:1; min-width:0;">Сбросить победы у всех</button>
            <button id="admin-reset-all-games" style="flex:1; min-width:0;">Сбросить игры у всех</button>
        </div>
        <br><br>
        <input type="number" id="admin-wins" placeholder="Победы для начисления">
        <div class="admin-row-btns" style="display:flex; gap:10px; margin-top:8px;">
            <button id="admin-add-wins" style="flex:1; min-width:0;">Начислить победы</button>
            <button id="admin-reset-wins" style="flex:1; min-width:0;">Сбросить победы</button>
        </div>
        <input type="number" id="admin-games" placeholder="Игры для начисления">
        <div class="admin-row-btns" style="display:flex; gap:10px; margin-top:8px;">
            <button id="admin-add-games" style="flex:1; min-width:0;">Начислить игры</button>
            <button id="admin-reset-games" style="flex:1; min-width:0;">Сбросить игры</button>
        </div>
        <p id="admin-message"></p>
    </div>
    <div id="shop-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="shop-close">&times;</span>
            <h2>Магазин</h2>
            <div id="shop-items">
                <!-- Товары магазина будут подгружаться сюда -->
            </div>
        </div>
    </div>
</body>
</html>
<script src="shop.js"></script>
<script src="transfer.js"></script>
<script src="admin-actions.js"></script> 
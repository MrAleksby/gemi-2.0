<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="transfer.css">
    <script defer src="main.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
</head>
<body>
    <div id="logo-container">
        <img src="logo.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø" id="main-logo">
    </div>
    <div id="login-section">
        <h2>–í—Ö–æ–¥</h2>
        <form id="login-form">
            <input type="email" id="login-email" placeholder="Email" required>
            <input type="password" id="login-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="submit">–í–æ–π—Ç–∏</button>
        </form>
        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="show-register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
    </div>
    <div id="register-section" style="display:none;">
        <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
        <form id="register-form">
            <input type="text" id="register-username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
            <input type="email" id="register-email" placeholder="Email" required>
            <input type="password" id="register-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <input type="password" id="register-password-confirm" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
            <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
        <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="show-login">–í–æ–π—Ç–∏</a></p>
    </div>
    <div id="profile-card" class="card" style="display:none; margin: 30px auto 10px auto; max-width: 420px;">
        <h2 id="profile-header"></h2>
        <p id="profile-info"></p>
        <button id="show-transfer-form" class="main-btn" style="margin:10px auto 0 auto; width:80%; display:block;">–ü–µ—Ä–µ–¥–∞—Ç—å –º–æ–Ω–µ—Ç—ã</button>
        <div id="money-balance" style="background: linear-gradient(135deg, #00d4aa 0%, #00b894 100%); color: white; padding: 12px; border-radius: 12px; margin: 10px 0; text-align: center; font-weight: 600; box-shadow: 0 4px 15px rgba(0, 212, 170, 0.3);">
            <span style="font-size: 1.2em;">üíé</span> CF: <span id="user-money-amount">0</span> —Å—É–º–æ–≤
        </div>
        <button id="exchange-coins-btn" class="main-btn" style="margin:10px auto 0 auto; width:80%; display:block; background: linear-gradient(135deg, #00d4aa 0%, #00b894 100%);">üí∞ –û–±–º–µ–Ω—è—Ç—å –º–æ–Ω–µ—Ç—ã –Ω–∞ CF</button>
        <div id="transfer-form-container" style="display:none;"></div>
        <div id="top5-container"></div>
        <div id="profile-buttons" style="display: flex; gap: 12px; margin-top: 12px;">
            <button id="logout-btn">–í—ã–π—Ç–∏</button>
            <button id="shop-btn" class="btn">–ú–∞–≥–∞–∑–∏–Ω</button>
        </div>
        <button id="toggle-rating-btn" class="main-btn" style="margin: 18px auto 0 auto; width: 80%; display: block;">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥</button>
    </div>
    <div id="rating-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="rating-close">&times;</span>
            <h2>üèÜ –†–µ–π—Ç–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h2>
            <table id="rating-table">
                <thead>
                    <tr><th>–ú–µ—Å—Ç–æ</th><th>–ò–º—è</th><th>–£—Ä–æ–≤–µ–Ω—å</th><th>–ë–∞–ª–ª—ã</th><th>–ú–æ–Ω–µ—Ç—ã</th><th>–ü–æ–±–µ–¥—ã</th><th>–ò–≥—Ä—ã</th></tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
    <div id="admin-section" style="display:none;">
        <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
        <p id="admin-message"></p>
        <input type="text" id="admin-user" placeholder="–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞" list="users-list">
        <datalist id="users-list">
            <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </datalist>
        <input type="number" id="admin-points" placeholder="–ë–∞–ª–ª—ã –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è">
        <div class="admin-row-btns" style="display:flex; gap:10px; margin-top:8px;">
            <button id="admin-add-points" style="flex:1; min-width:0;">–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã</button>
            <button id="admin-add-coins" style="flex:1; min-width:0;">–ù–∞—á–∏—Å–ª–∏—Ç—å –º–æ–Ω–µ—Ç—ã</button>
        </div>
        <button id="admin-reset-user">–û–±–Ω—É–ª–∏—Ç—å –±–∞–ª–ª—ã –∏ –º–æ–Ω–µ—Ç—ã —É —É—á–∞—Å—Ç–Ω–∏–∫–∞</button>
        <button id="admin-reset-all">–û–±–Ω—É–ª–∏—Ç—å –±–∞–ª–ª—ã –∏ –º–æ–Ω–µ—Ç—ã —É –≤—Å–µ—Ö</button>
        <div class="admin-row-btns" style="display:flex; gap:10px; margin-top:8px;">
            <button id="admin-reset-all-wins" style="flex:1; min-width:0;">–°–±—Ä–æ—Å–∏—Ç—å –ø–æ–±–µ–¥—ã —É –≤—Å–µ—Ö</button>
            <button id="admin-reset-all-games" style="flex:1; min-width:0;">–°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—ã —É –≤—Å–µ—Ö</button>
        </div>
        <br><br>
        <input type="number" id="admin-wins" placeholder="–ü–æ–±–µ–¥—ã –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è">
        <div class="admin-row-btns" style="display:flex; gap:10px; margin-top:8px;">
            <button id="admin-add-wins" style="flex:1; min-width:0;">–ù–∞—á–∏—Å–ª–∏—Ç—å –ø–æ–±–µ–¥—ã</button>
            <button id="admin-reset-wins" style="flex:1; min-width:0;">–°–±—Ä–æ—Å–∏—Ç—å –ø–æ–±–µ–¥—ã</button>
        </div>
        <input type="number" id="admin-games" placeholder="–ò–≥—Ä—ã –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è">
        <div class="admin-row-btns" style="display:flex; gap:10px; margin-top:8px;">
            <button id="admin-add-games" style="flex:1; min-width:0;">–ù–∞—á–∏—Å–ª–∏—Ç—å –∏–≥—Ä—ã</button>
            <button id="admin-reset-games" style="flex:1; min-width:0;">–°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—ã</button>
        </div>
        
        <hr style="margin: 30px 0; border: 1px solid rgba(102, 126, 234, 0.2);">
        
        <h3 style="color: #00d4aa; margin-bottom: 15px;">üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏</h3>
        
        <div class="admin-transactions-section">
            <h4>–°–Ω—è—Ç–∏–µ CF –¥–ª—è –¥–æ–Ω–∞—Ç–æ–≤:</h4>
            <input type="text" id="admin-withdraw-user" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" list="users-list">
            <input type="number" id="admin-withdraw-amount" placeholder="–°—É–º–º–∞ –≤ —Å—É–º–∞—Ö">
            <input type="text" id="admin-withdraw-reason" placeholder="–ü—Ä–∏—á–∏–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –¥–æ–Ω–∞—Ç –≤ Standoff 2)">
            <button id="admin-withdraw-money" class="main-btn" style="margin-top: 10px;">–°–Ω—è—Ç—å CF</button>
        </div>
        
        <h4 style="margin-top: 25px; color: #667eea;">üìä –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:</h4>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <span style="font-size: 0.9em; color: #666;">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</span>
            <button id="clear-transactions-btn" class="main-btn" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%); padding: 8px 16px; font-size: 0.9em; margin: 0;">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
        </div>
        <div id="transactions-history" class="transactions-list">
            <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å—é–¥–∞ -->
        </div>
    </div>
    <div id="shop-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="shop-close">&times;</span>
            <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
            <div id="shop-items">
                <!-- –¢–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞ –±—É–¥—É—Ç –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å—Å—è —Å—é–¥–∞ -->
            </div>
        </div>
    </div>
    
    <div id="exchange-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="exchange-close">&times;</span>
            <h2>üí∞ –û–±–º–µ–Ω –º–æ–Ω–µ—Ç –Ω–∞ CF</h2>
            <div class="exchange-info">
                <p><strong>–ö—É—Ä—Å –æ–±–º–µ–Ω–∞:</strong> 1 –º–æ–Ω–µ—Ç–∞ = 350 —Å—É–º–æ–≤</p>
                <p><strong>–í–∞—à –±–∞–ª–∞–Ω—Å:</strong> <span id="user-coins-balance">0</span> –º–æ–Ω–µ—Ç</p>
            </div>
            <div class="exchange-form">
                <label for="exchange-amount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –¥–ª—è –æ–±–º–µ–Ω–∞:</label>
                <input type="number" id="exchange-amount" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç" min="1">
                <div class="exchange-preview">
                    <p>–í—ã –ø–æ–ª—É—á–∏—Ç–µ: <span id="exchange-result">0</span> —Å—É–º–æ–≤</p>
                </div>
                <button id="confirm-exchange" class="main-btn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–±–º–µ–Ω</button>
            </div>
        </div>
    </div>
</body>
</html>
<script src="shop.js"></script>
<script src="transfer.js"></script>
<script src="admin-actions.js"></script> 